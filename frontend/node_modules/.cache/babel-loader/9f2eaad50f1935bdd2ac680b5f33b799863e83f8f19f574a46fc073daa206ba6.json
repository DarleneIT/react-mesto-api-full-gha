{"ast":null,"code":"class Api {\n  constructor(options) {\n    this._url = options.url;\n  }\n  _checkResponse(res) {\n    if (res.ok) {\n      return Promise.resolve(res.json());\n    }\n    return Promise.reject(`Ошибка ${res.status}`);\n  }\n  async getUserInfo() {\n    const response = await fetch(`${this._url}/users/me`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        authorization: `Bearer ${localStorage.getItem(\"jwt\")}`\n      }\n    });\n    return this._checkResponse(response);\n  }\n  async setUserInfo(data) {\n    const response = await fetch(`${this._url}/users/me`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        authorization: `Bearer ${localStorage.getItem(\"jwt\")}`\n      },\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      })\n    });\n    return this._checkResponse(response);\n  }\n  async getItems() {\n    const response = await fetch(`${this._url}/cards`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        authorization: `Bearer ${localStorage.getItem(\"jwt\")}`\n      }\n    });\n    return this._checkResponse(response);\n  }\n  async setAvatar(data) {\n    const response = await fetch(`${this._url}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        authorization: `Bearer ${localStorage.getItem(\"jwt\")}`\n      },\n      body: JSON.stringify({\n        avatar: data.avatar\n      })\n    });\n    return this._checkResponse(response);\n  }\n  async addCard(data) {\n    const response = await fetch(`${this._url}/cards`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        authorization: `Bearer ${localStorage.getItem(\"jwt\")}`\n      },\n      body: JSON.stringify(data)\n    });\n    return this._checkResponse(response);\n  }\n  async deleteCard(id) {\n    const response = await fetch(`${this._url}/cards/${id}`, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        authorization: `Bearer ${localStorage.getItem(\"jwt\")}`\n      }\n    });\n    return this._checkResponse(response);\n  }\n  async changeLikeCardStatus(cardId, isLiked) {\n    if (isLiked) {\n      const response = await fetch(`${this._url}/cards/${cardId}/likes`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: `Bearer ${localStorage.getItem(\"jwt\")}`\n        }\n      });\n      return this._checkResponse(response);\n    } else {\n      const response = await fetch(`${this._url}/cards/${cardId}/likes`, {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: `Bearer ${localStorage.getItem(\"jwt\")}`\n        }\n      });\n      return this._checkResponse(response);\n    }\n  }\n  async dislikeCard(cardId) {\n    const response = await fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        authorization: `Bearer ${localStorage.getItem(\"jwt\")}`\n      }\n    });\n    return this._getResponseData(response);\n  }\n}\nexport const api = new Api({\n  url: \"http://localhost:3000\"\n});","map":{"version":3,"names":["Api","constructor","options","_url","url","_checkResponse","res","ok","Promise","resolve","json","reject","status","getUserInfo","response","fetch","headers","authorization","localStorage","getItem","setUserInfo","data","method","body","JSON","stringify","name","about","getItems","setAvatar","avatar","addCard","deleteCard","id","changeLikeCardStatus","cardId","isLiked","dislikeCard","_baseUrl","_getResponseData","api"],"sources":["/Users/darlene/Desktop/dev/react-mesto-api-full-gha/frontend/src/utils/api.js"],"sourcesContent":["class Api {\n  constructor(options) {\n    this._url = options.url;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return Promise.resolve(res.json())\n    }\n    return Promise.reject(`Ошибка ${res.status}`);\n  }\n\n  async getUserInfo() {\n    const response = await fetch(`${this._url}/users/me`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n      },\n    })\n    return this._checkResponse(response)\n  }\n\n  async setUserInfo(data) {\n    const response = await fetch(`${this._url}/users/me`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n      },\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about,\n      }),\n    })\n    return this._checkResponse(response)\n  }\n\n  async getItems() {\n    const response = await fetch(`${this._url}/cards`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n      },\n    })\n    return this._checkResponse(response)\n  }\n\n  async setAvatar(data) {\n    const response = await fetch(`${this._url}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n      },\n      body: JSON.stringify({\n        avatar: data.avatar,\n      }),\n    })\n    return this._checkResponse(response)\n  }\n\n  async addCard(data) {\n    const response = await fetch(`${this._url}/cards`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n      },\n      body: JSON.stringify(data),\n    })\n    return this._checkResponse(response)\n  }\n\n  async deleteCard(id) {\n    const response = await fetch(`${this._url}/cards/${id}`, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n      },\n    })\n    return this._checkResponse(response)\n  }\n\n  async changeLikeCardStatus(cardId, isLiked) {\n    if (isLiked) {\n        const response = await fetch(`${this._url}/cards/${cardId}/likes`, {\n          method: \"PUT\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n          },\n        })\n        return this._checkResponse(response)\n    } else {\n\n\n      const response = await fetch(`${this._url}/cards/${cardId}/likes`, {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n        },\n      })\n      return this._checkResponse(response)\n    }\n  }\n\n\n  async dislikeCard(cardId) {\n    const response = await fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n      },\n    })\n    return this._getResponseData(response)\n  }\n}\n\nexport const api = new Api({\n  url: \"http://localhost:3000\",\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}