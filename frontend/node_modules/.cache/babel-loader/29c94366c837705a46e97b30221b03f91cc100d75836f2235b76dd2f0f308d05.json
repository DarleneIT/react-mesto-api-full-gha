{"ast":null,"code":"import PopupWithForm from\"./PopupWithForm\";import{useContext,useEffect,useRef}from\"react\";import CurrentUserContext from\"../contexts/CurrentUserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditAvatarPopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateAvatar=_ref.onUpdateAvatar,onLoading=_ref.onLoading;var currentUser=useContext(CurrentUserContext);var avatarRef=useRef();function handleSubmit(event){event.preventDefault();onUpdateAvatar({avatar:avatarRef.current.value});}useEffect(function(){if(!isOpen){avatarRef.current.value=currentUser.avatar;}else{avatarRef.current.value=\"\";}},[currentUser,isOpen]);return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"avatar\",title:\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit,buttonText:onLoading?'Сохранение...':'Сохранить',children:[/*#__PURE__*/_jsx(\"input\",{ref:avatarRef,className:\"popup__field popup__field_type_link\",type:\"url\",placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",name:\"avatar\",id:\"avatar-link\",required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"avatar-link-error popup__error\"})]});}export default EditAvatarPopup;","map":{"version":3,"names":["PopupWithForm","useContext","useEffect","useRef","CurrentUserContext","jsx","_jsx","jsxs","_jsxs","EditAvatarPopup","_ref","isOpen","onClose","onUpdateAvatar","onLoading","currentUser","avatarRef","handleSubmit","event","preventDefault","avatar","current","value","name","title","onSubmit","buttonText","children","ref","className","type","placeholder","id","required"],"sources":["/Users/darlene/Desktop/dev/react-mesto-auth/src/components/EditAvatarPopup.js"],"sourcesContent":["import PopupWithForm from \"./PopupWithForm\";\nimport { useContext, useEffect, useRef } from \"react\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, onLoading }) {\n  const currentUser = useContext(CurrentUserContext);\n  const avatarRef = useRef();\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    });\n  }\n\n  useEffect(() => {\n    if (!isOpen) {\n      avatarRef.current.value = currentUser.avatar;\n    } else {\n      avatarRef.current.value = \"\";\n    }\n  }, [currentUser, isOpen]);\n\n  return (\n    <PopupWithForm\n      name=\"avatar\"\n      title=\"Обновить аватар\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      buttonText={onLoading ? 'Сохранение...' : 'Сохранить'}\n    >\n      <input\n        ref={avatarRef}\n        className=\"popup__field popup__field_type_link\"\n        type=\"url\"\n        placeholder=\"Ссылка на аватар\"\n        name=\"avatar\"\n        id=\"avatar-link\"\n        required\n      />\n      <span className=\"avatar-link-error popup__error\" />\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n"],"mappings":"AAAA,MAAO,CAAAA,aAAa,KAAM,iBAAiB,CAC3C,OAASC,UAAU,CAAEC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CACrD,MAAO,CAAAC,kBAAkB,KAAM,gCAAgC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEhE,QAAS,CAAAC,eAAeA,CAAAC,IAAA,CAAiD,IAA9C,CAAAC,MAAM,CAAAD,IAAA,CAANC,MAAM,CAAEC,OAAO,CAAAF,IAAA,CAAPE,OAAO,CAAEC,cAAc,CAAAH,IAAA,CAAdG,cAAc,CAAEC,SAAS,CAAAJ,IAAA,CAATI,SAAS,CACnE,GAAM,CAAAC,WAAW,CAAGd,UAAU,CAACG,kBAAkB,CAAC,CAClD,GAAM,CAAAY,SAAS,CAAGb,MAAM,CAAC,CAAC,CAE1B,QAAS,CAAAc,YAAYA,CAACC,KAAK,CAAE,CAC3BA,KAAK,CAACC,cAAc,CAAC,CAAC,CACtBN,cAAc,CAAC,CACbO,MAAM,CAAEJ,SAAS,CAACK,OAAO,CAACC,KAC5B,CAAC,CAAC,CACJ,CAEApB,SAAS,CAAC,UAAM,CACd,GAAI,CAACS,MAAM,CAAE,CACXK,SAAS,CAACK,OAAO,CAACC,KAAK,CAAGP,WAAW,CAACK,MAAM,CAC9C,CAAC,IAAM,CACLJ,SAAS,CAACK,OAAO,CAACC,KAAK,CAAG,EAAE,CAC9B,CACF,CAAC,CAAE,CAACP,WAAW,CAAEJ,MAAM,CAAC,CAAC,CAEzB,mBACEH,KAAA,CAACR,aAAa,EACZuB,IAAI,CAAC,QAAQ,CACbC,KAAK,CAAC,uFAAiB,CACvBb,MAAM,CAAEA,MAAO,CACfC,OAAO,CAAEA,OAAQ,CACjBa,QAAQ,CAAER,YAAa,CACvBS,UAAU,CAAEZ,SAAS,CAAG,eAAe,CAAG,WAAY,CAAAa,QAAA,eAEtDrB,IAAA,UACEsB,GAAG,CAAEZ,SAAU,CACfa,SAAS,CAAC,qCAAqC,CAC/CC,IAAI,CAAC,KAAK,CACVC,WAAW,CAAC,wFAAkB,CAC9BR,IAAI,CAAC,QAAQ,CACbS,EAAE,CAAC,aAAa,CAChBC,QAAQ,MACT,CAAC,cACF3B,IAAA,SAAMuB,SAAS,CAAC,gCAAgC,CAAE,CAAC,EACtC,CAAC,CAEpB,CAEA,cAAe,CAAApB,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}